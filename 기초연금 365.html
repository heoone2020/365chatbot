<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ê¸°ì´ˆì—°ê¸ˆ 365 (ì„ íƒí˜•)</title>
    <style>
        /* 1. í°íŠ¸ ë° ê¸°ë³¸ ìŠ¤íƒ€ì¼ */
        @font-face {
            font-family: 'Paperlogy';
            src: url('https://fastly.jsdelivr.net/gh/projectnoonnu/2408-3@1.0/Paperlogy-5Medium.woff2') format('woff2');
            font-weight: 500;
        }
        @font-face {
            font-family: 'Paperlogy-Bold';
            src: url('https://fastly.jsdelivr.net/gh/projectnoonnu/2408-3@1.0/Paperlogy-7Bold.woff2') format('woff2');
            font-weight: 700;
        }
        
        body {
            font-family: 'Paperlogy', sans-serif;
            background-color: #FFFDF7; 
            background-image: radial-gradient(#E5E0D0 1.5px, transparent 1.5px);
            background-size: 24px 24px;
            margin: 0;
            display: flex;
            justify-content: center;
            height: 100vh;
            overflow: hidden;
        }

        .app-container {
            width: 100%;
            max-width: 500px;
            background: #ffffff;
            display: flex;
            flex-direction: column;
            box-shadow: 0 10px 30px rgba(100, 90, 80, 0.1); 
            border-left: 1px solid #f0f0f0;
            border-right: 1px solid #f0f0f0;
        }

        .header {
            padding: 20px;
            padding-top: 40px;
            background-color: #ffffff;
            border-bottom: 2px dashed #eee;
            text-align: center;
            z-index: 10;
        }
        .header-title {
            font-family: 'Paperlogy-Bold', sans-serif;
            font-size: 1.6rem;
            color: #FF8C00;
            margin: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }
        .header-subtitle {
            font-size: 0.95rem;
            color: #888;
            margin-top: 5px;
        }

        .chat-box {
            flex: 1;
            overflow-y: auto;
            padding: 20px;
            background-color: #FFFDF9;
            scroll-behavior: smooth;
        }

        .msg-row {
            display: flex;
            align-items: flex-start;
            margin-bottom: 15px;
            width: 100%;
        }
        .msg-row.user {
            justify-content: flex-end;
        }

        .bot-icon {
            width: 42px;
            height: 42px;
            background-color: #FFF4E0;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            margin-right: 10px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
            flex-shrink: 0;
        }

        .message {
            max-width: 75%;
            padding: 14px 18px;
            border-radius: 20px;
            font-size: 1.05rem;
            line-height: 1.6;
            position: relative;
            word-break: break-word;
            box-shadow: 0 2px 4px rgba(0,0,0,0.03);
        }
        
        .bot-message {
            background-color: #ffffff;
            color: #4a4a4a;
            border: 1px solid #f0f0f0;
            border-top-left-radius: 4px;
        }

        .user-message {
            background-color: #FFB347;
            color: white;
            border-top-right-radius: 4px;
        }

        .thought-container {
            width: 100%;
            display: flex;
            padding-left: 55px;
            margin-bottom: 5px;
        }
        .thought-bubble {
            background-color: #F0F7FF;
            color: #6A9CFF;
            font-size: 0.85rem;
            font-weight: 600;
            padding: 6px 14px;
            border-radius: 15px;
            display: flex;
            align-items: center;
            gap: 6px;
            animation: float 2s infinite ease-in-out;
        }

        /* ë©”ë‰´ ê·¸ë¦¬ë“œ */
        .menu-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 8px;
            margin-top: 10px;
            width: 100%;
        }
        .category-btn {
            background: #FFF4E0;
            color: #D97706;
            border: 1px solid #FFE0B2;
            padding: 12px;
            border-radius: 12px;
            font-family: 'Paperlogy', sans-serif;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            text-align: center;
        }
        .category-btn:hover { background: #FFD180; }
        
        .question-list {
            display: flex;
            flex-direction: column;
            gap: 6px;
            margin-top: 10px;
            width: 100%;
        }
        .q-btn {
            background: #ffffff;
            border: 1px solid #ddd;
            padding: 12px;
            border-radius: 10px;
            text-align: left;
            font-family: 'Paperlogy', sans-serif;
            font-size: 1rem;
            cursor: pointer;
            color: #333;
            line-height: 1.4;
        }
        .q-btn:hover { background: #f5f5f5; border-color: #FFB347; }
        .q-btn-special {
            background: #FFF0F0;
            border: 1px solid #FFCDCD;
            color: #D32F2F;
            font-weight: bold;
            text-align: center;
            margin-top: 5px;
        }

        /* í•˜ë‹¨ ê³ ì • ë©”ë‰´ (ì¢Œìš° ìŠ¤í¬ë¡¤ ê°€ëŠ¥) */
        .fixed-menu {
            padding: 12px 15px;
            background: #ffffff;
            border-top: 1px solid #eee;
            display: flex;
            gap: 8px;
            overflow-x: auto;
            white-space: nowrap;
        }
        .fixed-menu::-webkit-scrollbar { display: none; }

        .menu-btn {
            font-family: 'Paperlogy', sans-serif;
            flex: 0 0 auto; /* ë²„íŠ¼ í¬ê¸° ìë™ ì¡°ì ˆ */
            background: #EBF4FF;
            color: #0055FF;
            border: 1px solid #CCE0FF;
            padding: 12px 16px;
            border-radius: 20px;
            cursor: pointer;
            font-size: 0.95rem;
            font-weight: 600;
        }
        .menu-btn:hover { background: #D6E4FF; }

        .input-area {
            padding: 15px;
            background: white;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        input[type="text"] {
            flex: 1;
            padding: 15px;
            font-family: 'Paperlogy', sans-serif;
            font-size: 1rem;
            border: 2px solid #eee;
            border-radius: 25px;
            outline: none;
            background-color: #fafafa;
        }
        .send-btn {
            background-color: #FFB347;
            color: white;
            border: none;
            width: 48px;
            height: 48px;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        @keyframes float {
            0% { transform: translateY(0px); }
            50% { transform: translateY(-3px); }
            100% { transform: translateY(0px); }
        }
    </style>
</head>
<body>

<div class="app-container">
    <div class="header">
        <h1 class="header-title">ğŸ¥ ê¸°ì´ˆì—°ê¸ˆ 365</h1>
        <div class="header-subtitle">ì‰½ê³  ì¹œì ˆí•˜ê²Œ ì•Œë ¤ë“œë ¤ìš”!</div>
    </div>

    <div class="chat-box" id="chatBox"></div>

    <div class="fixed-menu" id="menuArea">
        <button class="menu-btn" onclick="sendMenu('ë‚˜ ì–¼ë§ˆ ë°›ì„ ìˆ˜ ìˆì–´?')">ğŸ’° ë‚˜ ì–¼ë§ˆ ë°›ì„ ìˆ˜ ìˆì–´?</button>
        <button class="menu-btn" onclick="showCategories()">ğŸ“š ì§ˆë¬¸ ëª©ë¡ ë³´ì—¬ì¤˜</button>
    </div>

    <div class="input-area">
        <input type="text" id="userInput" placeholder="ê¶ê¸ˆí•œ ë‹¨ì–´ë¥¼ ì ì–´ë³´ì„¸ìš” (ì˜ˆ: ë¹š, ì´ì‚¬)" onkeypress="if(event.keyCode==13) sendMessage()">
        <button class="send-btn" onclick="sendMessage()">
            <svg viewBox="0 0 24 24" width="22" height="22" fill="white"><path d="M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"/></svg>
        </button>
    </div>
</div>

<script>
    const chatBox = document.getElementById('chatBox');
    // 2025ë…„ ê¸°ì¤€ì•¡
    const LIMIT_SINGLE = 2280000;
    const LIMIT_COUPLE = 3648000;

    let step = 0; 
    let userType = ''; 

    const categories = {
        "ëŒ€ìƒ/ìê²©": [
            { q: "ëª‡ ì‚´ë¶€í„° ì‹ ì²­í•  ìˆ˜ ìˆì–´?", a: "ë§Œ 65ì„¸ ìƒì¼ì´ ì§€ë‚˜ì…”ì•¼ í•©ë‹ˆë‹¤.<br>ì˜¬í•´(2025ë…„)ëŠ” <b>1960ë…„ìƒ</b>ì´ì‹  ë¶„ë“¤ì´ ìƒì¼ ì§€ë‚˜ë©´ ëŒ€ìƒìê°€ ë˜ì‹­ë‹ˆë‹¤! ğŸ‚", thought: "ìˆ˜ê¸‰ ì—°ë ¹ í™•ì¸" },
            { q: "ìì‹ì´ ëˆ ì˜ ë²„ëŠ”ë° ë‚˜ë„ ë°›ì•„ë„ ë¼?", a: "<b>ë„¤, ë‹¹ì—°íˆ ë©ë‹ˆë‹¤!</b> ğŸ™†â€â™‚ï¸<br>ê¸°ì´ˆì—°ê¸ˆì€ ìë…€ê°€ ì•„ë¬´ë¦¬ ë¶€ìì—¬ë„ ìƒê´€ì—†ìŠµë‹ˆë‹¤.<br>ì˜¤ì§ ì–´ë¥´ì‹ ê³¼ ë°°ìš°ìë¶„ì˜ í˜•í¸ë§Œ ë´…ë‹ˆë‹¤. ëˆˆì¹˜ ë³´ì§€ ë§ˆì„¸ìš”! ğŸ˜Š", thought: "ë¶€ì–‘ì˜ë¬´ì ê¸°ì¤€ íì§€" },
            { q: "ê³µë¬´ì› ì—°ê¸ˆ ë°›ëŠ”ë° ì‹ ì²­í•´ë„ ë¼?", a: "ì•„ì‰½ê²Œë„ ê³µë¬´ì›, ì‚¬í•™, êµ°ì¸, ìš°ì²´êµ­ ì—°ê¸ˆ ìˆ˜ê¸‰ìë¶„ë“¤ì€ <b>ì›ì¹™ì ìœ¼ë¡œ ëª» ë°›ìœ¼ì‹­ë‹ˆë‹¤.</b> ğŸ˜¢<br>ë²•ì ìœ¼ë¡œ ì œì™¸ ëŒ€ìƒì´ë¼ ì–´ì©” ìˆ˜ê°€ ì—†ìŠµë‹ˆë‹¤.", thought: "ì§ì—­ì—°ê¸ˆ ì œì™¸ ì•ˆë‚´" },
            { q: "ê¸°ì´ˆìˆ˜ê¸‰ìì¸ë° ì¤‘ë³µìœ¼ë¡œ ë°›ì•„ë„ ë¼?", a: "ë°›ìœ¼ì‹¤ ìˆ˜ëŠ” ìˆëŠ”ë°, <b>ê¸°ì´ˆì—°ê¸ˆ ë°›ì€ ë§Œí¼ ìƒê³„ê¸‰ì—¬ê°€ ê¹ì¼ ìˆ˜ ìˆì–´ìš”.</b><br>ì˜¤íˆë ¤ ì†í•´ì¼ ìˆ˜ ìˆìœ¼ë‹ˆ, ì‹ ì²­ ì „ì— ê¼­ ë‹´ë‹¹ìí•œí…Œ ë¬¼ì–´ë³´ì…”ì•¼ í•´ìš”! ğŸš¨", thought: "ì¤‘ë³µ ê°ì•¡ ì£¼ì˜" },
            { q: "ì£¼ì†Œë‘ ì‚¬ëŠ” ê³³ì´ ë‹¤ë¥¸ë° ì–´ë–»ê²Œ í•´?", a: "ì‹¤ì œë¡œ ì‚¬ì‹œëŠ” ê³³ì´ ì¤‘ìš”í•´ìš”.<br>í•˜ì§€ë§Œ ì£¼ì†Œê°€ ë‹¤ë¥´ë©´ ì˜¤í•´ë°›ì„ ìˆ˜ ìˆìœ¼ë‹ˆ, <b>ì§€ê¸ˆ ì‚¬ì‹œëŠ” ê³³ ì£¼ë¯¼ì„¼í„°</b>ì— ê°€ì…”ì„œ ìƒí™©ì„ ì†”ì§í•˜ê²Œ ë§ì”€í•˜ì‹œê³  ìƒë‹´ë°›ëŠ” ê²Œ ì œì¼ ì•ˆì „í•´ìš”.", thought: "ì‹¤ê±°ì£¼ì§€ ì›ì¹™" }
        ],
        "ì¬ì‚°/ì†Œë“": [
            { q: "ë¹šì´ ìˆëŠ”ë° ì¬ì‚°ì—ì„œ ë¹¼ì¤˜?", a: "ê·¸ëŸ¼ìš”! ì€í–‰ ëŒ€ì¶œê¸ˆì€ <b>ì¬ì‚°ì—ì„œ ë¹¼ë“œë¦½ë‹ˆë‹¤(ê³µì œ).</b> ğŸ“‰<br>ë¹šì´ ìˆìœ¼ë©´ ì¬ì‚°ì´ ì ê²Œ ì¡í˜€ì„œ ë°›ìœ¼ì‹¤ í™•ë¥ ì´ ì˜¬ë¼ê°€ìš”.<br>ë‹¨, ê°œì¸ë¼ë¦¬ ë¹Œë¦° ëˆì€ ì¸ì • ì•ˆ ë  ìˆ˜ë„ ìˆì–´ìš”.", thought: "ë¶€ì±„ ì°¨ê° ì•ˆë‚´" },
            { q: "ìë…€ ì§‘ì— ì–¹í˜€ì‚¬ëŠ”ë° ì§‘ê°’ë„ í¬í•¨ë¼?", a: "ìë…€ ëª…ì˜ ì§‘ì€ <b>ì–´ë¥´ì‹  ì¬ì‚° ì•„ë‹ˆì—ìš”!</b> ê±±ì • ë§ˆì„¸ìš”.<br>ë‹¤ë§Œ ê·¸ ì§‘ì´ 6ì–µ ë„˜ëŠ” ë¹„ì‹¼ ì§‘ì´ë©´ 'ê³µì§œë¡œ ì‚¬ëŠ” ì´ë“'ì„ ì†Œë“ìœ¼ë¡œ ì¡°ê¸ˆ ì¡ê¸´ í•´ìš”.", thought: "ë¬´ë£Œì„ì°¨ì†Œë“ ì•ˆë‚´" },
            { q: "ìë™ì°¨ê°€ ìˆëŠ”ë° ì–´ë–»ê²Œ í•´? íŒ”ì•„ì•¼ í•´?", a: "ì•„ë‹ˆìš”, ë¬´ì¡°ê±´ íŒŒì‹¤ í•„ìš” ì—†ì–´ìš”! ğŸš—<br>í•˜ì§€ë§Œ <b>4,000ë§Œ ì› ë„˜ëŠ” ê³ ê¸‰ì°¨</b>ë‚˜ 3,000cc ë„˜ëŠ” ì°¨ê°€ ìˆìœ¼ë©´ íƒˆë½í•˜ì‹¤ ìˆ˜ ìˆì–´ìš”.<br>ì˜¤ë˜ëœ ì°¨ë‚˜ íŠ¸ëŸ­ì€ ê´œì°®ì•„ìš”.", thought: "ì°¨ëŸ‰ ê¸°ì¤€ ì•ˆë‚´" },
            { q: "ì§‘ì´ ìˆëŠ”ë° ë°›ì•„ë„ ë¼?", a: "ë„¤, ì§‘ ìˆì–´ë„ ë°›ìœ¼ì‹œëŠ” ë¶„ë“¤ ë§ì•„ìš”!<br><b>ì§€ì—­ë³„ë¡œ ì§‘ê°’ì€ ì–´ëŠ ì •ë„ ë¹¼ì£¼ê±°ë“ ìš”(ìµœëŒ€ 1ì–µ 3,500ë§Œ ì›).</b><br>ë„ˆë¬´ ê±±ì • ë§ê³  ì¼ë‹¨ ì‹ ì²­í•´ ë³´ì„¸ìš”!", thought: "ê¸°ë³¸ì¬ì‚° ê³µì œ" },
            { q: "í†µì¥ì— ëˆì´ ì¢€ ìˆëŠ”ë° ì–´ë–»ê²Œ í•´?", a: "ì€í–‰ ì˜ˆê¸ˆì€ <b>2,000ë§Œ ì›ê¹Œì§€ëŠ” ë´ë“œë ¤ìš”.</b> (ê³µì œ)<br>ê·¸ê±° ë„˜ëŠ” ëˆë§Œ ì†Œë“ìœ¼ë¡œ ì¹˜ë‹ˆê¹Œ, ë¹„ìƒê¸ˆ ì •ë„ëŠ” ê´œì°®ì•„ìš”! ğŸ’°", thought: "ê¸ˆìœµì¬ì‚° ê³µì œ" }
        ],
        "ì‹ ì²­/ë°©ë²•": [
            { q: "ì‹ ì²­ì€ ì–´ë”” ê°€ì„œ í•´ì•¼ í•´?", a: "ê°€ê¹Œìš´ <b>ì£¼ë¯¼ì„¼í„°(í–‰ì •ë³µì§€ì„¼í„°)</b>ë‚˜ <b>êµ­ë¯¼ì—°ê¸ˆê³µë‹¨</b>ìœ¼ë¡œ ê°€ì‹œë©´ ë¼ìš”.<br>ê°€ì‹¤ ë•Œ <b>ì‹ ë¶„ì¦</b>ì´ë‘ <b>í†µì¥</b>ë§Œ ë”± ì±™ê²¨ê°€ì„¸ìš”! ğŸƒâ€â™‚ï¸", thought: "ì‹ ì²­ ì¥ì†Œ ì•ˆë‚´" },
            { q: "ëª¸ì´ ì•„íŒŒì„œ ëª» ê°€ëŠ”ë° ìì‹ì´ ëŒ€ì‹  í•´ë„ ë¼?", a: "ë„¤, ë©ë‹ˆë‹¤! ìë…€ë¶„ì´ë‚˜ ë°°ìš°ìê°€ <b>ëŒ€ì‹  ì‹ ì²­(ëŒ€ë¦¬ ì‹ ì²­)</b>í•  ìˆ˜ ìˆì–´ìš”.<br>ëŒ€ë¦¬ì¸ ì‹ ë¶„ì¦ì´ë‘ ì–´ë¥´ì‹  ë„ì¥ ì±™ê²¨ì„œ ë³´ë‚´ì„¸ìš”.", thought: "ëŒ€ë¦¬ ì‹ ì²­ ì•ˆë‚´" },
            { q: "ì´ì‚¬ ê°”ëŠ”ë° ë‹¤ì‹œ ì‹ ì²­í•´ì•¼ í•´?", a: "ì•„ë‹ˆìš”! <b>ì „ì…ì‹ ê³ ë§Œ í•˜ì‹œë©´ ì•Œì•„ì„œ ì—°ê²°ë¼ìš”.</b><br>ë”°ë¡œ ì‹ ì²­ ì•ˆ í•˜ì…”ë„ ë˜ë‹ˆê¹Œ í¸í•˜ê²Œ ê³„ì‹œë©´ ë©ë‹ˆë‹¤! ğŸ ", thought: "ì „ì… ì—°ê³„ ì•ˆë‚´" },
            { q: "í†µì¥ ë°”ê¾¸ê³  ì‹¶ì€ë° ì–´ë–»ê²Œ í•´?", a: "ì£¼ë¯¼ì„¼í„° ê°€ì‹œê±°ë‚˜ <b>'ë³µì§€ë¡œ'</b> ì‚¬ì´íŠ¸ì—ì„œ ë°”ê¾¸ì‹œë©´ ë¼ìš”.<br>ì••ë¥˜ë°©ì§€í†µì¥(í–‰ë³µì§€í‚´ì´)ìœ¼ë¡œë„ ë°”ê¿€ ìˆ˜ ìˆì–´ìš”.", thought: "ê³„ì¢Œ ë³€ê²½ ì•ˆë‚´" },
            { q: "íƒˆë½í–ˆëŠ”ë° ì–µìš¸í•˜ë©´ ì–´ë–»ê²Œ í•´?", a: "ë„ˆë¬´ ì–µìš¸í•˜ì‹œë©´ <b>'ì´ì˜ì‹ ì²­'</b>ì´ë€ ê±¸ í•  ìˆ˜ ìˆì–´ìš”!<br>ê²°ê³¼ ë°›ê³  <b>90ì¼ ì•ˆì—</b> ì£¼ë¯¼ì„¼í„° ê°€ì„œ 'ë‹¤ì‹œ ì‹¬ì‚¬í•´ì£¼ì„¸ìš”'ë¼ê³  í•˜ì„¸ìš”. í¬ê¸°í•˜ì§€ ë§ˆì„¸ìš”! ğŸ’ª", thought: "ì´ì˜ì‹ ì²­ ì•ˆë‚´" }
        ],
        "ê¸ˆì•¡/ì§€ê¸‰": [
            { q: "ë¶€ë¶€ê°€ ë‹¤ ë°›ìœ¼ë©´ ê¹ì¸ë‹¤ëŠ”ë° ì§„ì§œì•¼?", a: "ë„¤, ë§ì•„ìš”. ë‘ ë¶„ ë‹¤ ë°›ìœ¼ì‹œë©´ <b>ê°ê° 20%ì”© ê¹ì—¬ìš”.</b><br>ê·¸ë˜ë„ ë‘ ë¶„ í•©ì¹˜ë©´ 50ë§Œ ì› ë„˜ìœ¼ë‹ˆê¹Œ, í•œ ë¶„ë§Œ ë°›ëŠ” ê²ƒë³´ë‹¨ í›¨ì”¬ ë‚˜ì•„ìš”! ğŸ’‘", thought: "ë¶€ë¶€ ê°ì•¡ ì•ˆë‚´" },
            { q: "ëˆì€ ë©°ì¹ ì— ë“¤ì–´ì™€?", a: "ë§¤ë‹¬ <b>25ì¼</b>ì— í†µì¥ìœ¼ë¡œ ë”±! ë“¤ì–´ì˜µë‹ˆë‹¤. ğŸ“…<br>ë¹¨ê°„ ë‚ ì´ë©´ ê·¸ ì „ë‚  ë¯¸ë¦¬ ë„£ì–´ë“œë ¤ìš”.", thought: "ì§€ê¸‰ì¼ ì•ˆë‚´" },
            { q: "êµ­ë¯¼ì—°ê¸ˆì´ë‘ ê°™ì´ ë°›ì•„ë„ ë¼?", a: "ë„¤, ê°™ì´ ë°›ì•„ë„ ë¼ìš”!<br>ê·¼ë° êµ­ë¯¼ì—°ê¸ˆì„ ë§ì´(ì•½ 50ë§Œ ì› ì´ìƒ) ë°›ìœ¼ì‹œë©´ ê¸°ì´ˆì—°ê¸ˆì´ <b>ì¡°ê¸ˆ ì¤„ì–´ë“¤ ìˆ˜ëŠ” ìˆì–´ìš”.</b><br>ì •í™•í•œ ê±´ ì‹ ì²­í•´ ë´ì•¼ ì•Œì•„ìš”.", thought: "êµ­ë¯¼ì—°ê¸ˆ ì—°ê³„" }
        ]
    };

    window.onload = function() {
        addBotMessage(null, "ì•ˆë…•í•˜ì„¸ìš” ì–´ë¥´ì‹ ! ğŸ™‡â€â™‚ï¸<br>ì €ëŠ” 2025ë…„ ê¸°ì´ˆì—°ê¸ˆ ì²™ì²™ë°•ì‚¬ <b>'ì—°ê¸ˆ ì‚ì•½ì´'</b>ì˜ˆìš”.<br><br>ê¶ê¸ˆí•œ ê²Œ ë§ìœ¼ì‹œì£ ?<br>ì•„ë˜ <b>[ğŸ“š ì§ˆë¬¸ ëª©ë¡ ë³´ì—¬ì¤˜]</b> ë²„íŠ¼ì„ ëˆ„ë¥´ë©´, ë‚¨ë“¤ì´ ë§ì´ í•˜ëŠ” ê³ ë¯¼ë“¤ì„ ëª¨ì•„ë†¨ì–´ìš”!");
    };

    function sendMenu(text) {
        addUserMessage(text);
        setTimeout(() => processBotResponse(text), 500);
    }

    function sendMessage() {
        const input = document.getElementById('userInput');
        const text = input.value.trim();
        if (text === "") return;
        addUserMessage(text);
        input.value = "";
        setTimeout(() => processBotResponse(text), 600);
    }

    function addUserMessage(text) {
        const row = document.createElement('div');
        row.className = 'msg-row user';
        const bubble = document.createElement('div');
        bubble.className = 'message user-message';
        bubble.innerHTML = text;
        bubble.style.animation = "fadeIn 0.3s";
        row.appendChild(bubble);
        chatBox.appendChild(row);
        scrollToBottom();
    }

    function addBotMessage(thoughtText, answerHtml) {
        if (thoughtText) {
            const thoughtDiv = document.createElement('div');
            thoughtDiv.className = 'thought-container';
            thoughtDiv.innerHTML = `<div class="thought-bubble">â˜ï¸ ${thoughtText}</div>`;
            chatBox.appendChild(thoughtDiv);
        }
        const row = document.createElement('div');
        row.className = 'msg-row';
        const icon = document.createElement('div');
        icon.className = 'bot-icon';
        icon.innerText = "ğŸ¥";
        const bubble = document.createElement('div');
        bubble.className = 'message bot-message';
        bubble.innerHTML = answerHtml;
        bubble.style.animation = "fadeIn 0.4s";
        row.appendChild(icon);
        row.appendChild(bubble);
        chatBox.appendChild(row);
        scrollToBottom();
    }

    function showCategories() {
        addUserMessage("ì§ˆë¬¸ ëª©ë¡ ë³´ì—¬ì¤˜.");
        setTimeout(() => {
            const row = document.createElement('div');
            row.className = 'msg-row';
            const icon = document.createElement('div');
            icon.className = 'bot-icon';
            icon.innerText = "ğŸ¥";
            const bubble = document.createElement('div');
            bubble.className = 'message bot-message';
            bubble.style.width = "100%";
            bubble.innerHTML = "ì–´ë–¤ ê²Œ ê±±ì •ë˜ì„¸ìš”? ì£¼ì œë¥¼ ê³¨ë¼ì£¼ì„¸ìš”! ğŸ‘‡";
            const grid = document.createElement('div');
            grid.className = 'menu-grid';
            
            Object.keys(categories).forEach(cat => {
                const btn = document.createElement('button');
                btn.className = 'category-btn';
                btn.innerText = cat;
                btn.onclick = () => showSubQuestions(cat);
                grid.appendChild(btn);
            });
            bubble.appendChild(grid);
            row.appendChild(icon);
            row.appendChild(bubble);
            chatBox.appendChild(row);
            scrollToBottom();
        }, 500);
    }

    function showSubQuestions(category) {
        addUserMessage(category + " ê´€ë ¨ ì§ˆë¬¸");
        setTimeout(() => {
            const row = document.createElement('div');
            row.className = 'msg-row';
            const icon = document.createElement('div');
            icon.className = 'bot-icon';
            icon.innerText = "ğŸ¥";
            const bubble = document.createElement('div');
            bubble.className = 'message bot-message';
            bubble.style.width = "100%";
            bubble.innerHTML = `<b>[${category}]</b> ê´€ë ¨í•´ì„œ ë§ì´ í•˜ëŠ” ê³ ë¯¼ë“¤ì´ì—ìš”.`;
            const list = document.createElement('div');
            list.className = 'question-list';
            
            categories[category].forEach(item => {
                const btn = document.createElement('button');
                btn.className = 'q-btn';
                btn.innerText = "Q. " + item.q;
                btn.onclick = () => {
                    addUserMessage(item.q); 
                    setTimeout(() => addBotMessage(item.thought, item.a), 500); 
                };
                list.appendChild(btn);
            });

            const contactBtn = document.createElement('button');
            contactBtn.className = 'q-btn q-btn-special';
            contactBtn.innerText = "ğŸ“ ìƒë‹´ì›ì´ë‘ ì§ì ‘ í†µí™”í• ë˜";
            contactBtn.onclick = () => {
                addUserMessage("ìƒë‹´ì›ì´ë‘ í†µí™”í•˜ê³  ì‹¶ì–´.");
                setTimeout(() => addBotMessage("ìƒë‹´ì› ì—°ê²° ì•ˆë‚´", "ë‹µë‹µí•˜ì‹œì£ ? ğŸ˜¥<br>ê·¸ë ‡ë‹¤ë©´ <b>êµ­ë¯¼ì—°ê¸ˆê³µë‹¨ 1355</b>ë¡œ ì „í™”í•´ ë³´ì„¸ìš”!<br>ë˜ëŠ” ì‚¬ì‹œëŠ” ê³³ <b>ì£¼ë¯¼ì„¼í„°</b>ë¡œ ê°€ì‹œë©´ ë‹´ë‹¹ìê°€ ìì„¸íˆ ë´ë“œë¦´ ê²ë‹ˆë‹¤."), 500);
            };
            list.appendChild(contactBtn);
            bubble.appendChild(list);
            row.appendChild(icon);
            row.appendChild(bubble);
            chatBox.appendChild(row);
            scrollToBottom();
        }, 500);
    }

    function scrollToBottom() {
        chatBox.scrollTop = chatBox.scrollHeight;
    }

    function updateMenu(options) {
        const menuArea = document.getElementById('menuArea');
        menuArea.innerHTML = ''; 
        options.forEach(opt => {
            const btn = document.createElement('button');
            btn.className = 'menu-btn';
            btn.innerText = opt;
            btn.onclick = () => {
                if(opt === "ğŸ“š ì§ˆë¬¸ ëª©ë¡ ë³´ì—¬ì¤˜") showCategories();
                else sendMenu(opt);
            };
            menuArea.appendChild(btn);
        });
    }

    function processBotResponse(text) {
        if (text === "ğŸ“š ì§ˆë¬¸ ëª©ë¡ ë³´ì—¬ì¤˜" || text.includes("ëª©ë¡")) {
            showCategories();
            return;
        }

        if (step > 0) {
            handleCalculator(text);
            return;
        }
        
        if (["ì–¼ë§ˆ", "ë°›ì„ ìˆ˜", "ê³„ì‚°", "ê¸ˆì•¡"].some(k => text.includes(k))) {
            step = 1;
            addBotMessage("ê°€êµ¬ ìœ í˜• í™•ì¸", "ê³„ì‚°ì„ ë„ì™€ë“œë¦´ê²Œìš”! ğŸ§®<br>í˜¹ì‹œ <b>í˜¼ì ì‚¬ì‹œë‚˜ìš”, ì•„ë‹ˆë©´ ë°°ìš°ìê°€ ìˆìœ¼ì‹ ê°€ìš”?</b>");
            updateMenu(["í˜¼ì ì‚´ì•„", "ë°°ìš°ì ìˆì–´", "ì²˜ìŒìœ¼ë¡œ"]);
            return;
        }
        
        let found = false;
        Object.keys(categories).forEach(cat => {
            categories[cat].forEach(item => {
                const cleanQ = item.q.replace("?", "");
                if (text.includes(cleanQ)) { addBotMessage(item.thought, item.a); found = true; return; }
                if(!found) {
                    if(text.includes("ë¹š") && item.q.includes("ë¹š")) { addBotMessage(item.thought, item.a); found = true; }
                    else if(text.includes("ì´ì‚¬") && item.q.includes("ì´ì‚¬")) { addBotMessage(item.thought, item.a); found = true; }
                    else if(text.includes("í†µì¥") && item.q.includes("í†µì¥")) { addBotMessage(item.thought, item.a); found = true; }
                    else if(text.includes("ì•„íŒŒ") && item.q.includes("ì•„íŒŒ")) { addBotMessage(item.thought, item.a); found = true; }
                    else if(text.includes("ì£¼ì†Œ") && item.q.includes("ì£¼ì†Œ")) { addBotMessage(item.thought, item.a); found = true; }
                    else if(text.includes("ì´í˜¼") && item.q.includes("ì´í˜¼")) { addBotMessage(item.thought, item.a); found = true; }
                    else if(text.includes("ì°¨") && item.q.includes("ì°¨")) { addBotMessage(item.thought, item.a); found = true; }
                    else if(text.includes("ìì‹") && item.q.includes("ìì‹")) { addBotMessage(item.thought, item.a); found = true; }
                    else if(text.includes("ì‹ ì²­") && item.q.includes("ì‹ ì²­")) { addBotMessage(item.thought, item.a); found = true; }
                    else if(text.includes("ê³µë¬´ì›") && item.q.includes("ê³µë¬´ì›")) { addBotMessage(item.thought, item.a); found = true; }
                }
            });
        });

        if (found) return; 
        addBotMessage("ì˜ë„ íŒŒì•… ì¤‘...", "ì£„ì†¡í•©ë‹ˆë‹¤, ì œê°€ ì•„ì§ ë°°ìš°ëŠ” ì¤‘ì´ë¼ ì˜ ëª¨ë¥´ê² ì–´ìš” ğŸ˜…<br><b>[ğŸ“š ì§ˆë¬¸ ëª©ë¡ ë³´ì—¬ì¤˜]</b> ë²„íŠ¼ì„ ëˆŒëŸ¬ì„œ ì°¾ì•„ë³´ì‹œê² ì–´ìš”?");
    }

    // â˜… ìˆ˜ì •ëœ ê³„ì‚° ë¡œì§ (êµ¬ê°„ ì„ íƒí˜•)
    function handleCalculator(text) {
        // [STEP 1] ê°€êµ¬ ìœ í˜• ì„ íƒ -> ì†Œë“ ë²„íŠ¼ ë³´ì—¬ì£¼ê¸°
        if (step === 1) {
            if (text.includes("í˜¼ì") || text.includes("ë…ê±°")) {
                userType = 'single';
                addBotMessage("2025ë…„ ë‹¨ë… ê¸°ì¤€ í™•ì¸", "í˜¼ì ì‚¬ì‹œëŠ”êµ°ìš”.<br>2025ë…„ ê¸°ì¤€ <b>228ë§Œ ì›</b>ë³´ë‹¤ ì ê²Œ ë²„ì‹œë©´ ë°›ìœ¼ì‹¤ ìˆ˜ ìˆì–´ìš”.<br><b>í•œ ë‹¬ ì†Œë“(ë²Œì´)</b>ì´ ëŒ€ëµ ì–´ëŠ ì •ë„ ë˜ì„¸ìš”? ğŸ‘‡");
                updateMenu(["50ë§Œì› ì´í•˜", "100ë§Œì› ì´í•˜", "100ë§Œì› ì´ìƒ", "ì²˜ìŒìœ¼ë¡œ"]);
                step = 2; 
            } else if (text.includes("ë°°ìš°ì") || text.includes("ë¶€ë¶€") || text.includes("ìˆì–´")) {
                userType = 'couple';
                addBotMessage("2025ë…„ ë¶€ë¶€ ê¸°ì¤€ í™•ì¸", "ë‘ ë¶„ì´ì‹œêµ°ìš”.<br>ë‘ ë¶„ í•©ì³ì„œ <b>364ë§Œ 8ì²œ ì›</b>ë³´ë‹¤ ì ê²Œ ë²„ì‹œë©´ ë¼ìš”.<br><b>ë‘ ë¶„ ì†Œë“ì„ í•©ì¹˜ë©´</b> ëŒ€ëµ ì–´ëŠ ì •ë„ ë˜ì„¸ìš”? ğŸ‘‡");
                updateMenu(["50ë§Œì› ì´í•˜", "100ë§Œì› ì´í•˜", "100ë§Œì› ì´ìƒ", "ì²˜ìŒìœ¼ë¡œ"]);
                step = 2; 
            } else { addBotMessage(null, "í˜¼ì ì‚¬ì‹œëŠ”ì§€, ë°°ìš°ìê°€ ìˆìœ¼ì‹ ì§€ ë²„íŠ¼ì„ ëˆŒëŸ¬ì£¼ì„¸ìš” ğŸ¥"); }
            return;
        }

        // [STEP 2] ì†Œë“ êµ¬ê°„ ì„ íƒ ê²°ê³¼
        if (step === 2) {
            if (text.includes("ì²˜ìŒ")) {
                step = 0;
                addBotMessage(null, "ë„¤, ì²˜ìŒìœ¼ë¡œ ëŒì•„ê°‘ë‹ˆë‹¤.");
                updateMenu(["ğŸ’° ë‚˜ ì–¼ë§ˆ ë°›ì„ ìˆ˜ ìˆì–´?", "ğŸ“š ì§ˆë¬¸ ëª©ë¡ ë³´ì—¬ì¤˜"]);
                return;
            }

            const limitText = userType === 'single' ? "228ë§Œ ì›" : "364ë§Œ 8ì²œ ì›";

            if (text.includes("50ë§Œì›")) {
                addBotMessage("ê³„ì‚° ê²°ê³¼: ë§¤ìš° ì•ˆì „í•¨", `<b>ê±±ì • ë§ˆì„¸ìš”! ë¬´ì¡°ê±´ ë°›ìœ¼ì‹­ë‹ˆë‹¤!</b> ğŸ‰<br>ìƒí™œë¹„ í•˜ì‹œê¸°ì— ë¹ ë“¯í•˜ì‹œê² ì§€ë§Œ...<br>ì†Œë“ì´ ê¸°ì¤€(${limitText})ë³´ë‹¤ í›¨ì”¬ ì ìœ¼ì…”ì„œ <b style="color:blue">100% í•©ê²©ê¶Œ</b>ì…ë‹ˆë‹¤.<br>ê¼­ ì‹ ì²­í•˜ì„¸ìš”!`);
            } else if (text.includes("100ë§Œì› ì´í•˜")) {
                addBotMessage("ê³„ì‚° ê²°ê³¼: ì•ˆì „í•¨", `<b>ë„¤! ì¶©ë¶„íˆ ë°›ìœ¼ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤!</b> ğŸ™†â€â™‚ï¸<br>ê¸°ì¤€ ê¸ˆì•¡(${limitText})ë³´ë‹¤ ì ìœ¼ì…”ì„œ ì•ˆì •ê¶Œì…ë‹ˆë‹¤.<br>ì¬ì‚°ì´ ìˆ˜ì‹­ ì–µ ìˆì§€ ì•Šì€ ì´ìƒ í•©ê²©í•˜ì‹¤ ê±°ì˜ˆìš”.`);
            } else if (text.includes("100ë§Œì› ì´ìƒ")) {
                addBotMessage("ê³„ì‚° ê²°ê³¼: í™•ì¸ í•„ìš”", `<b>100ë§Œ ì›ì´ ë„˜ìœ¼ì‹œëŠ”êµ°ìš”!</b><br>ê·¸ë˜ë„ ê¸°ì¤€(${limitText})ë§Œ ì•ˆ ë„˜ìœ¼ë©´ ë°›ìœ¼ì‹¤ ìˆ˜ ìˆì–´ìš”.<br>í˜¹ì‹œ ì¬ì‚°ì´ ë§ê±°ë‚˜ ë‹¤ë¥¸ ì†Œë“ì´ ë” ìˆë‹¤ë©´ ì£¼ë¯¼ì„¼í„°ì—ì„œ <b>ì •í™•í•œ ìƒë‹´</b>ì„ í•œë²ˆ ë°›ì•„ë³´ì„¸ìš”! ğŸ™`);
            } else {
                // í˜¹ì‹œ ìˆ«ìë¥¼ ì§ì ‘ ì³¤ì„ ê²½ìš° ëŒ€ë¹„
                const inputNum = parseInt(text.replace(/[^0-9]/g, ''));
                if (!isNaN(inputNum)) {
                   const income = inputNum * 10000;
                   const limit = userType === 'single' ? LIMIT_SINGLE : LIMIT_COUPLE;
                   if (income <= limit) addBotMessage("ê³„ì‚° ê²°ê³¼: í•©ê²© ê°€ëŠ¥ì„±", `ê³„ì‚°í•´ë³´ë‹ˆ ê¸°ì¤€(${limitText})ë³´ë‹¤ ì ìœ¼ì‹œë„¤ìš”.<br>ë°›ìœ¼ì‹¤ ê°€ëŠ¥ì„±ì´ ë†’ìŠµë‹ˆë‹¤! ğŸ‰`);
                   else addBotMessage("ê³„ì‚° ê²°ê³¼: ì´ˆê³¼", `ê¸°ì¤€(${limitText})ë³´ë‹¤ ì¡°ê¸ˆ ë†’ìœ¼ì‹œë„¤ìš”.<br>í•˜ì§€ë§Œ ì¬ì‚° ê³µì œ ë“±ì„ ë°›ìœ¼ë©´ ê°€ëŠ¥í•  ìˆ˜ë„ ìˆìœ¼ë‹ˆ ìƒë‹´ë°›ì•„ë³´ì„¸ìš”.`);
                } else {
                    addBotMessage(null, "ì•„ë˜ ë²„íŠ¼ ì¤‘ì—ì„œ í•˜ë‚˜ë¥¼ ê³¨ë¼ì£¼ì„¸ìš” ğŸ‘‡");
                }
                return; // ìŠ¤í… ìœ ì§€
            }
            
            // ê³„ì‚° ëë‚˜ë©´ ì´ˆê¸°í™”
            step = 0;
            updateMenu(["ğŸ’° ë‚˜ ì–¼ë§ˆ ë°›ì„ ìˆ˜ ìˆì–´?", "ğŸ“š ì§ˆë¬¸ ëª©ë¡ ë³´ì—¬ì¤˜"]);
            return;
        }
    }
<script>

<body>
<html>
