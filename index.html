<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ê¸°ì´ˆì—°ê¸ˆ 365 (2025ë…„í˜•)</title>
    <style>
        /* 1. í°íŠ¸: í˜ì´í¼ë¡œì§€ */
        @font-face {
            font-family: 'Paperlogy';
            src: url('https://fastly.jsdelivr.net/gh/projectnoonnu/2408-3@1.0/Paperlogy-5Medium.woff2') format('woff2');
            font-weight: 500;
        }
        @font-face {
            font-family: 'Paperlogy-Bold';
            src: url('https://fastly.jsdelivr.net/gh/projectnoonnu/2408-3@1.0/Paperlogy-7Bold.woff2') format('woff2');
            font-weight: 700;
        }
        
        body {
            font-family: 'Paperlogy', sans-serif;
            background-color: #FFFDF7; 
            background-image: radial-gradient(#E5E0D0 1.5px, transparent 1.5px);
            background-size: 24px 24px;
            margin: 0;
            display: flex;
            justify-content: center;
            height: 100vh;
            overflow: hidden;
        }

        .app-container {
            width: 100%;
            max-width: 500px;
            background: #ffffff;
            display: flex;
            flex-direction: column;
            box-shadow: 0 10px 30px rgba(100, 90, 80, 0.1); 
            border-left: 1px solid #f0f0f0;
            border-right: 1px solid #f0f0f0;
        }

        /* 2. í—¤ë” */
        .header {
            padding: 20px;
            padding-top: 40px;
            background-color: #ffffff;
            border-bottom: 2px dashed #eee;
            text-align: center;
            z-index: 10;
        }
        .header-title {
            font-family: 'Paperlogy-Bold', sans-serif;
            font-size: 1.6rem;
            color: #FF8C00;
            margin: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }
        .header-subtitle {
            font-size: 0.95rem;
            color: #888;
            margin-top: 5px;
        }

        /* 3. ì±„íŒ… ì˜ì—­ */
        .chat-box {
            flex: 1;
            overflow-y: auto;
            padding: 20px;
            background-color: #FFFDF9;
            scroll-behavior: smooth;
        }

        .msg-row {
            display: flex;
            align-items: flex-start;
            margin-bottom: 15px;
            width: 100%;
        }
        .msg-row.user {
            justify-content: flex-end;
        }

        /* ì±—ë´‡ í”„ë¡œí•„ (ë³‘ì•„ë¦¬) */
        .bot-icon {
            width: 42px;
            height: 42px;
            background-color: #FFF4E0;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            margin-right: 10px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
            flex-shrink: 0;
        }

        /* ë§í’ì„  ìŠ¤íƒ€ì¼ */
        .message {
            max-width: 75%;
            padding: 14px 18px;
            border-radius: 20px;
            font-size: 1.05rem;
            line-height: 1.6;
            position: relative;
            word-break: break-word;
            box-shadow: 0 2px 4px rgba(0,0,0,0.03);
        }
        
        .bot-message {
            background-color: #ffffff;
            color: #4a4a4a;
            border: 1px solid #f0f0f0;
            border-top-left-radius: 4px;
        }

        .user-message {
            background-color: #FFB347;
            color: white;
            border-top-right-radius: 4px;
        }

        /* 4. AI ìƒê° êµ¬ë¦„ */
        .thought-container {
            width: 100%;
            display: flex;
            padding-left: 55px;
            margin-bottom: 5px;
        }
        .thought-bubble {
            background-color: #F0F7FF;
            color: #6A9CFF;
            font-size: 0.85rem;
            font-weight: 600;
            padding: 6px 14px;
            border-radius: 15px;
            display: flex;
            align-items: center;
            gap: 6px;
            animation: float 2s infinite ease-in-out;
        }

        /* 5. ê³ ì • ë©”ë‰´ë°” */
        .fixed-menu {
            padding: 12px 15px;
            background: #ffffff;
            border-top: 1px solid #eee;
            display: flex;
            gap: 8px;
            overflow-x: auto;
        }
        .fixed-menu::-webkit-scrollbar { display: none; }

        .menu-btn {
            font-family: 'Paperlogy', sans-serif;
            flex: 1;
            background: #FFF4E0;
            color: #D97706;
            border: 1px solid #FFE0B2;
            padding: 12px 10px;
            border-radius: 15px;
            cursor: pointer;
            font-size: 0.95rem;
            font-weight: 600;
            white-space: nowrap;
            min-width: fit-content;
            transition: 0.2s;
        }
        .menu-btn:hover {
            background: #FFD180;
            transform: translateY(-2px);
        }

        /* 6. ì…ë ¥ì°½ */
        .input-area {
            padding: 15px;
            background: white;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        input[type="text"] {
            flex: 1;
            padding: 15px;
            font-family: 'Paperlogy', sans-serif;
            font-size: 1rem;
            border: 2px solid #eee;
            border-radius: 25px;
            outline: none;
            background-color: #fafafa;
            transition: 0.3s;
        }
        input[type="text"]:focus {
            border-color: #FFB347;
            background-color: #fff;
        }
        .send-btn {
            background-color: #FFB347;
            color: white;
            border: none;
            width: 48px;
            height: 48px;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 3px 6px rgba(255, 179, 71, 0.4);
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        @keyframes float {
            0% { transform: translateY(0px); }
            50% { transform: translateY(-3px); }
            100% { transform: translateY(0px); }
        }
    </style>
</head>
<body>

<div class="app-container">
    <div class="header">
        <h1 class="header-title">ğŸ¥ ê¸°ì´ˆì—°ê¸ˆ 365</h1>
        <div class="header-subtitle">2025ë…„ ê¸°ì¤€ ì™„ë²½ í•™ìŠµ ì™„ë£Œ!</div>
    </div>

    <div class="chat-box" id="chatBox">
        </div>

    <div class="fixed-menu" id="menuArea">
        <button class="menu-btn" onclick="sendMenu('ë‚œ ì–¼ë§ˆ ë°›ì„ ìˆ˜ ìˆì–´?')">ë‚œ ì–¼ë§ˆ ë°›ì„ ìˆ˜ ìˆì–´?</button>
        <button class="menu-btn" onclick="sendMenu('ì‹ ì²­ ë°©ë²•ì€?')">ì‹ ì²­ ë°©ë²•ì€?</button>
        <button class="menu-btn" onclick="sendMenu('ìë…€ ì†Œë“ì´ ë†’ì•„ë„ ë°›ì„ ìˆ˜ ìˆì–´?')">ìë…€ ì†Œë“ì´ ë†’ì•„ë„ ë°›ì„ ìˆ˜ ìˆì–´?</button>
    </div>

    <div class="input-area">
        <input type="text" id="userInput" placeholder="ê¶ê¸ˆí•œ ê±¸ ì ì–´ì£¼ì„¸ìš”..." onkeypress="if(event.keyCode==13) sendMessage()">
        <button class="send-btn" onclick="sendMessage()">
            <svg viewBox="0 0 24 24" width="22" height="22" fill="white"><path d="M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"/></svg>
        </button>
    </div>
</div>

<script>
    const chatBox = document.getElementById('chatBox');
    const LIMIT_SINGLE = 2280000;
    const LIMIT_COUPLE = 3648000;

    let step = 0; 
    let userType = ''; 

    window.onload = function() {
        addBotMessage(null, "ì•ˆë…•í•˜ì„¸ìš” ì–´ë¥´ì‹ ! ë°˜ê°€ì›Œìš” ğŸ¥<br>ì €ëŠ” <b>2025ë…„ ìµœì‹  ê¸°ì´ˆì—°ê¸ˆì œ</b>ë¥¼ ê³µë¶€í•œ <b>'ì—°ê¸ˆ ì‚ì•½ì´'</b>ì—ìš”.<br><br>ì˜¬í•´ ê¸°ì¤€ì´ ë§ì´ ì˜¬ëìœ¼ë‹ˆ<br>ì•„ë˜ ë²„íŠ¼ì„ ëˆŒëŸ¬ ê¶ê¸ˆí•œ ê²ƒë“¤ì„ ë¬¼ì–´ë³´ì„¸ìš”.");
    };

    function sendMenu(text) {
        let displayMsg = text;
        if(text === "ë‚œ ì–¼ë§ˆ ë°›ì„ ìˆ˜ ìˆì–´?") displayMsg = "ë‚˜ ì–¼ë§ˆ ë°›ì„ ìˆ˜ ìˆëŠ”ì§€ ê¶ê¸ˆí•´.";
        if(text === "ì‹ ì²­ ë°©ë²•ì€?") displayMsg = "ì‹ ì²­ì€ ì–´ë–»ê²Œ í•˜ëŠ” ê±°ì•¼?";
        if(text === "ìë…€ ì†Œë“ì´ ë†’ì•„ë„ ë°›ì„ ìˆ˜ ìˆì–´?") displayMsg = "ìì‹ë“¤ì´ ì˜ì‚´ì•„ë„ ë‚˜ ë°›ì„ ìˆ˜ ìˆì–´?";
        
        addUserMessage(displayMsg);
        setTimeout(() => processBotResponse(text), 500);
    }

    function sendMessage() {
        const input = document.getElementById('userInput');
        const text = input.value.trim();
        if (text === "") return;

        addUserMessage(text);
        input.value = "";
        
        setTimeout(() => processBotResponse(text), 600);
    }

    function addUserMessage(text) {
        const row = document.createElement('div');
        row.className = 'msg-row user';
        const bubble = document.createElement('div');
        bubble.className = 'message user-message';
        bubble.innerText = text;
        bubble.style.animation = "fadeIn 0.3s";
        row.appendChild(bubble);
        chatBox.appendChild(row);
        scrollToBottom();
    }

    function addBotMessage(thoughtText, answerHtml) {
        if (thoughtText) {
            const thoughtDiv = document.createElement('div');
            thoughtDiv.className = 'thought-container';
            thoughtDiv.innerHTML = `<div class="thought-bubble">â˜ï¸ ${thoughtText}</div>`;
            chatBox.appendChild(thoughtDiv);
        }
        const row = document.createElement('div');
        row.className = 'msg-row';
        const icon = document.createElement('div');
        icon.className = 'bot-icon';
        icon.innerText = "ğŸ¥";
        const bubble = document.createElement('div');
        bubble.className = 'message bot-message';
        bubble.innerHTML = answerHtml;
        bubble.style.animation = "fadeIn 0.4s";
        row.appendChild(icon);
        row.appendChild(bubble);
        chatBox.appendChild(row);
        scrollToBottom();
    }

    function scrollToBottom() {
        chatBox.scrollTop = chatBox.scrollHeight;
    }

    function updateMenu(options) {
        const menuArea = document.getElementById('menuArea');
        menuArea.innerHTML = ''; 
        options.forEach(opt => {
            const btn = document.createElement('button');
            btn.className = 'menu-btn';
            btn.innerText = opt;
            btn.onclick = () => sendMenu(opt);
            menuArea.appendChild(btn);
        });
    }

    // ğŸ§  ì±—ë´‡ í•µì‹¬ ì§€ëŠ¥
    function processBotResponse(text) {
        
        // â˜… [ì¤‘ìš”] ê³„ì‚° ë‹¨ê³„(Step 1, 2)ì¼ ë•ŒëŠ” ë§ŒëŠ¥ í‚¤ì›Œë“œë³´ë‹¤ 'ì‚¬ìš©ì ë‹µë³€'ì„ ìµœìš°ì„ ìœ¼ë¡œ ì²˜ë¦¬
        
        // 2. ê°€êµ¬ ìœ í˜• ì„ íƒ (Step 1)
        if (step === 1) {
            if (text.includes("í˜¼ì") || text.includes("ë…ê±°")) {
                userType = 'single';
                addBotMessage(
                    "2025ë…„ ë‹¨ë…ê°€êµ¬ ê¸°ì¤€(228ë§Œì›) ì ìš©!", 
                    "ì•Œê² ì–´ìš”! ì˜¬í•´ í˜¼ì ì‚¬ì‹œëŠ” ë¶„ì€ <b>228ë§Œ ì›</b>ë³´ë‹¤ ì†Œë“ì´ ì ìœ¼ë©´ ê¸°ì´ˆì—°ê¸ˆ ìˆ˜ë ¹ ëŒ€ìƒìì— í•´ë‹¹í•´ìš”.<br><br><b>í•œ ë‹¬ ì†Œë“(ì›”ê¸‰+ì¬ì‚°í™˜ì‚°ì•¡)</b>ì´ ëŒ€ëµ ì–¼ë§ˆì¸ì§€ ìˆ«ìë§Œ ì ì–´ì£¼ì„¸ìš”."
                );
                updateMenu(["ì˜ ëª¨ë¥´ê² ì–´", "ì²˜ìŒìœ¼ë¡œ"]);
                step = 2; // ë‹¤ìŒ ë‹¨ê³„ë¡œ
            } else if (text.includes("ë°°ìš°ì") || text.includes("ë‚¨í¸") || text.includes("ì•„ë‚´") || text.includes("ìˆì–´") || text.includes("ë¶€ë¶€")) {
                userType = 'couple';
                addBotMessage(
                    "2025ë…„ ë¶€ë¶€ê°€êµ¬ ê¸°ì¤€(364.8ë§Œì›) ì ìš©!", 
                    "ì•Œê² ì–´ìš”! ì˜¬í•´ ë‘ ë¶„ í•©ì³ì„œ <b>364ë§Œ 8ì²œ ì›</b>ë³´ë‹¤ ì ìœ¼ë©´ ê¸°ì´ˆì—°ê¸ˆ ìˆ˜ë ¹ ëŒ€ìƒìì— í•´ë‹¹í•´ìš”.<br><br><b>ë¶€ë¶€ í•©ì‚° ì›” ì†Œë“</b>ì´ ëŒ€ëµ ì–¼ë§ˆì¸ì§€ ìˆ«ìë§Œ ì ì–´ì£¼ì„¸ìš”. ex) 10ë§Œì› -> 10"
                );
                updateMenu(["ì˜ ëª¨ë¥´ê² ì–´", "ì²˜ìŒìœ¼ë¡œ"]);
                step = 2; // ë‹¤ìŒ ë‹¨ê³„ë¡œ
            } else {
                addBotMessage(null, "í˜¼ì ì‚¬ì‹œëŠ”ì§€, ë°°ìš°ìê°€ ìˆìœ¼ì‹ ì§€ ë²„íŠ¼ì„ ëˆŒëŸ¬ì£¼ì„¸ìš” ğŸ¥");
            }
            return; // ì—¬ê¸°ì„œ í•¨ìˆ˜ ì¢…ë£Œ (ë‹¤ë¥¸ í‚¤ì›Œë“œ ê²€ì‚¬ ì•ˆ í•¨)
        }

        // 3. ì†Œë“ ì…ë ¥ ë° ê²°ê³¼ (Step 2)
        if (step === 2) {
            // "ëª°ë¼", "100ë§Œì›ìœ¼ë¡œ í•´ì¤˜", "ì‘" ë“± ê¸ì •/ëª¨ë¦„ ì²˜ë¦¬
            if(text.includes("ëª¨ë¥´") || text.includes("ëª°ë¼") || text.includes("ì‘") || text.includes("ê·¸ë˜") || text.includes("ë„¤") || text.includes("í•´ì¤˜")) {
                const inputNum = 100; // 100ë§Œì› ê°€ì •
                calculateResult(inputNum);
                return;
            }

            // ìˆ«ì ì¶”ì¶œ
            const inputNum = parseInt(text.replace(/[^0-9]/g, ''));
            
            // ìˆ«ìê°€ ìˆìœ¼ë©´ ë°”ë¡œ ê³„ì‚°
            if (!isNaN(inputNum)) {
                calculateResult(inputNum);
            } else {
                addBotMessage(null, "ìˆ«ìë¥¼ ëª» ì°¾ì•˜ì–´ìš” ğŸ˜¢<br>ì˜ˆë¥¼ ë“¤ì–´ <b>150</b> ì²˜ëŸ¼ ìˆ«ìë§Œ ì ì–´ì£¼ì„¸ìš”.<br>(ì˜ ëª¨ë¥´ì‹œë©´ 'ëª°ë¼'ë¼ê³  í•´ì£¼ì„¸ìš”)");
            }
            return; // ì—¬ê¸°ì„œ í•¨ìˆ˜ ì¢…ë£Œ
        }

        // --- ì—¬ê¸°ì„œë¶€í„°ëŠ” Step 0 (ì¼ë°˜ ëŒ€í™”) ìƒíƒœì¼ ë•Œë§Œ ì‘ë™ ---

        // 1. ê³„ì‚°ê¸° ì‹œì‘ ëª…ë ¹ì–´
        if (["ì–¼ë§ˆ", "ë°›ì„ ìˆ˜", "ê³„ì‚°", "ê¸ˆì•¡", "ëˆ"].some(k => text.includes(k))) {
            step = 1;
            addBotMessage(
                "2025ë…„ ê°€êµ¬ ìœ í˜•ë³„ ê¸°ì¤€ì„ ì¤€ë¹„ ì¤‘...", 
                "ë„¤! ì˜¬í•´ ê¸°ì¤€ì— ë”°ë¼ ê¸°ì´ˆì—°ê¸ˆ ìˆ˜ë ¹ ì—¬ë¶€ë¥¼ í™•ì¸í•´ ë“œë¦´ê²Œìš”!<br>í˜¹ì‹œ <b>í˜¼ì ì‚¬ì‹œë‚˜ìš”, ì•„ë‹ˆë©´ ë°°ìš°ìê°€ ìˆìœ¼ì‹ ê°€ìš”?</b>"
            );
            updateMenu(["í˜¼ì ì‚´ì•„", "ë°°ìš°ì ìˆì–´", "ì²˜ìŒìœ¼ë¡œ"]);
            return;
        }

        // --- [â˜…ë§ŒëŠ¥ í‚¤ì›Œë“œ ì²˜ë¦¬â˜…] ---

        // ìë™ì°¨
        if (["ì°¨", "ìë™ì°¨", "ìŠ¹ìš©ì°¨", "ë°°ê¸°ëŸ‰", "cc", "ì†Œë‚˜íƒ€", "ê·¸ëœì €", "ì œë„¤ì‹œìŠ¤", "ë²¤ì¸ ", "íŠ¸ëŸ­", "ìš©ë‹¬"].some(k => text.includes(k))) {
            addBotMessage(
                "ì¬ì‚° ì¡°ì‚¬ í•­ëª©: 'ì°¨ëŸ‰ê°€ì•¡' í™•ì¸",
                "ìë™ì°¨(íŠ¸ëŸ­, ìŠ¹ìš©ì°¨)ê°€ ìˆì–´ë„ ë˜ëŠ”ë°ìš”, í˜¹ì‹œ <b>4,000ë§Œ ì› ì´ìƒ</b>ì¸ ê³ ê¸‰ ìŠ¹ìš©ì°¨(ì œë„¤ì‹œìŠ¤, ë²¤ì¸  ë“±)ë¥¼ ë³´ìœ  ì¤‘ì´ì‹ ê°€ìš”?<br>ê·¸ë ‡ë‹¤ë©´ ì›” ì†Œë“ìœ¼ë¡œ 100% ì¡í˜€ì„œ ë°›ê¸° ì–´ë ¤ìš¸ ìˆ˜ ìˆì–´ìš” ğŸ˜¥"
            );
        }
        // ìë…€
        else if (["ìì‹", "ìë…€", "ì•„ë“¤", "ë”¸", "ë©°ëŠë¦¬", "ì‚¬ìœ„", "ì• ë“¤", "ë¶€ì", "ëŒ€ê¸°ì—…", "ëˆ ì˜"].some(k => text.includes(k))) {
            addBotMessage(
                "ë¶€ì–‘ì˜ë¬´ì ê¸°ì¤€ íì§€ ì•ˆë‚´",
                "ê±±ì • ë§ˆì„¸ìš”! ìë…€ë¶„(ì•„ë“¤, ë”¸)ì´ ì•„ë¬´ë¦¬ ë¶€ìì—¬ë„ <b>ì–´ë¥´ì‹  í˜•í¸ë§Œ ë´…ë‹ˆë‹¤.</b><br>ìë…€ ì†Œë“ì€ ì „~í˜€ ìƒê´€ì—†ì–´ìš”! ğŸ˜Š"
            );
        }
        // ë¶€ë™ì‚°
        else if (["ì§‘", "ì•„íŒŒíŠ¸", "ë¹Œë¼", "ì¬ì‚°", "ë•…", "ë…¼", "ë°­", "ì‹œê³¨ì§‘", "ì „ì„¸", "ì›”ì„¸"].some(k => text.includes(k))) {
            addBotMessage(
                "ê¸°ë³¸ì¬ì‚°ì•¡ ê³µì œ ì•ˆë‚´",
                "ì‚´ê³  ê³„ì‹  ì§‘(ì•„íŒŒíŠ¸, ì‹œê³¨ì§‘ ë“±)ë„ ì†Œë“ìœ¼ë¡œ ê³„ì‚°ë¼ìš”.<br>í•˜ì§€ë§Œ <b>ì§€ì—­ë³„ë¡œ(ìµœëŒ€ 1ì–µ 3,500ë§Œ ì›) ì§‘ê°’ì€ ë¹¼ì£¼ë‹ˆê¹Œ</b>, ë„ˆë¬´ ê±±ì • ë§ˆì‹œê³  ì‹ ì²­í•´ë³´ì„¸ìš”!"
            );
        }
        // ì‹ ì²­
        else if (["ì‹ ì²­", "ì–´ë””", "ì¥ì†Œ", "ë™ì‚¬ë¬´ì†Œ", "ì£¼ë¯¼ì„¼í„°", "ì„œë¥˜"].some(k => text.includes(k))) {
            addBotMessage(
                "ì ‘ìˆ˜ì²˜ ë° ì¤€ë¹„ë¬¼ ì•ˆë‚´",
                "ì‹ ì²­ì€ ë™ë„¤ <b>í–‰ì •ë³µì§€ì„¼í„°(ë™ì‚¬ë¬´ì†Œ)</b>ë‚˜ <b>êµ­ë¯¼ì—°ê¸ˆê³µë‹¨</b>ìœ¼ë¡œ ê°€ì‹œë©´ ë¼ìš”.<br><b>ì‹ ë¶„ì¦</b>ì´ë‘ <b>í†µì¥</b>ë§Œ ê¼­ ì±™ê²¨ê°€ì„¸ìš”!"
            );
        }
        // ê³µë¬´ì›
        else if (["ê³µë¬´ì›", "êµ°ì¸", "ì‚¬í•™", "ì„ ìƒë‹˜", "êµì‚¬", "ìš°ì²´êµ­", "ì—°ê¸ˆ"].some(k => text.includes(k))) {
            addBotMessage(
                "ì§ì—­ì—°ê¸ˆ ìˆ˜ê¸‰ê¶Œì ì œì™¸ ìš”ê±´ í™•ì¸...",
                "ê³µë¬´ì›, ì„ ìƒë‹˜(ì‚¬í•™), êµ°ì¸ ì—°ê¸ˆ ë“±ì„ ë°›ê³  ê³„ì‹œë©´ <b>ì›ì¹™ì ìœ¼ë¡œ ê¸°ì´ˆì—°ê¸ˆ ëŒ€ìƒì´ ì•„ë‹ˆì—ìš”.</b><br>ë„ˆë¬´ ì•„ì‰½ì§€ë§Œ ì œë„ê°€ ê·¸ë ‡ë‹µë‹ˆë‹¤ ğŸ˜¥"
            );
        }
        // ê¸°ì´ˆìˆ˜ê¸‰ì
        else if (["ìˆ˜ê¸‰ì", "ê¸°ì´ˆìƒí™œ", "ìƒê³„", "ê¸‰ì—¬", "ê¹ì—¬"].some(k => text.includes(k))) {
            addBotMessage(
                "ì¤‘ë³µ ê¸‰ì—¬ ì¡°ì • ì—¬ë¶€ í™•ì¸...",
                "ì´ê±´ ì¡°ì‹¬í•˜ì…”ì•¼ í•´ìš”.<br>ê¸°ì´ˆì—°ê¸ˆì„ ë°›ìœ¼ë©´ <b>ìƒê³„ê¸‰ì—¬ê°€ ê·¸ë§Œí¼ ê¹ì¼ ìˆ˜ ìˆì–´ìš”.</b><br>ë‹´ë‹¹ ê³µë¬´ì›ê³¼ ê¼­ ìƒë‹´í•´ë³´ì…”ì•¼ ì†í•´ê°€ ì—†ì–´ìš”!"
            );
        }
        // ë¦¬ì…‹
        else if (text.includes("ì²˜ìŒ")) {
            resetBot();
        }
        else {
            addBotMessage(
                "ì§ˆë¬¸ ì˜ë„ë¥¼ íŒŒì•…í•˜ëŠ” ì¤‘...",
                "ì œê°€ ì•„ì§ ë°°ìš°ëŠ” ì¤‘ì´ë¼ ì˜ ëª¨ë¥´ê² ì–´ìš” ğŸ˜…<br>í˜¹ì‹œ <b>ì–¼ë§ˆ ë°›ëŠ”ì§€</b> ê¶ê¸ˆí•˜ì‹ ê°€ìš”? ì•„ë‹ˆë©´ <b>ì‹ ì²­ ë°©ë²•</b>ì´ ê¶ê¸ˆí•˜ì‹ ê°€ìš”?<br>ì•„ë˜ ë²„íŠ¼ì„ ëˆŒëŸ¬ì£¼ì‹œë©´ ì œê°€ ë°”ë¡œ ì•Œë ¤ë“œë¦´ê²Œìš”!"
            );
        }
        
        if (step === 0) {
            updateMenu(["ë‚œ ì–¼ë§ˆ ë°›ì„ ìˆ˜ ìˆì–´?", "ì‹ ì²­ ë°©ë²•ì€?", "ìë…€ ì†Œë“ì´ ë†’ì•„ë„ ë°›ì„ ìˆ˜ ìˆì–´?"]);
        }
    }

    // ê²°ê³¼ ê³„ì‚° í•¨ìˆ˜ (ì¤‘ë³µ ì œê±°)
    function calculateResult(inputNum) {
        const income = inputNum * 10000;
        const limit = userType === 'single' ? LIMIT_SINGLE : LIMIT_COUPLE;
        const limitText = userType === 'single' ? "228ë§Œ ì›" : "364ë§Œ 8ì²œ ì›";

        let thought = "";
        let answer = "";

        if (income <= limit) {
            thought = "ê³„ì‚° ê²°ê³¼: 2025ë…„ ê¸°ì¤€ ì¶©ì¡±! (ìˆ˜ê¸‰ ê°€ëŠ¥)";
            answer = `<b>ê¸°ì´ˆì—°ê¸ˆ ìˆ˜ë ¹ ëŒ€ìƒìì— í•´ë‹¹ë˜ì„¸ìš”!</b> ğŸ‰<br>ì…ë ¥í•˜ì‹  ì†Œë“ì´ ì˜¬í•´ ê¸°ì¤€(${limitText})ë³´ë‹¤ ì ê±°ë“ ìš”.<br>ë§¤ë‹¬ ì•½ <b>34ë§Œ ì›ëŒ€</b>ë¥¼ ë°›ìœ¼ì‹¤ ê±°ì˜ˆìš”!`;
        } else {
            thought = "ê³„ì‚° ê²°ê³¼: ê¸°ì¤€ ì´ˆê³¼... (ê³µì œ í™•ì¸ í•„ìš”)";
            answer = `ê¸°ì¤€(${limitText})ë³´ë‹¤ ì†Œë“ì´ ì¡°ê¸ˆ ë†’ê²Œ ë‚˜ì˜¤ë„¤ìš”.<br>í•˜ì§€ë§Œ <b>ê¸ˆìœµì¬ì‚° ê³µì œ(2,000ë§Œì›)</b> ë“±ì„ ì ìš©í•˜ë©´ ë‹¬ë¼ì§ˆ ìˆ˜ ìˆìœ¼ë‹ˆ ê¼­ ì‹ ì²­í•´ë³´ì„¸ìš”!`;
        }

        addBotMessage(thought, answer);
        step = 0;
        updateMenu(["ë‚œ ì–¼ë§ˆ ë°›ì„ ìˆ˜ ìˆì–´?", "ì‹ ì²­ ë°©ë²•ì€?", "ìë…€ ì†Œë“ì´ ë†’ì•„ë„ ë°›ì„ ìˆ˜ ìˆì–´?"]);
    }

    function resetBot() {
        step = 0;
        addBotMessage(null, "ë„¤! ì²˜ìŒìœ¼ë¡œ ëŒì•„ì™”ì–´ìš” ğŸ¥");
        updateMenu(["ë‚œ ì–¼ë§ˆ ë°›ì„ ìˆ˜ ìˆì–´?", "ì‹ ì²­ ë°©ë²•ì€?", "ìë…€ ì†Œë“ì´ ë†’ì•„ë„ ë°›ì„ ìˆ˜ ìˆì–´?"]);
    }
</script>

</body>
</html>
